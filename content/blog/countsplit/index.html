<!DOCTYPE html>
<html>
  <head>
    <title>Substring Splitter</title>
  </head>
  <body>
    <label for="inputString">Input string:</label>
    <input type="text" id="inputString"><br><br>
    <label for="maxChar">Max characters:</label>
    <input type="number" id="maxChar"><br><br>
    <label for="startString">Start string:</label>
    <input type="text" id="startString"><br><br>
    <label for="endString">End string:</label>
    <input type="text" id="endString"><br><br>
    <button onclick="countSplit()">Split string</button><br><br>
    <label for="output">Output:</label>
    <textarea id="output" rows="10" cols="50"></textarea>
    
    <script>
      function countSplit() {
        try {
          let input = document.getElementById("inputString").value;
          let max = parseInt(document.getElementById("maxChar").value);
          let startString = document.getElementById("startString").value;
          let endString = document.getElementById("endString").value;
          let substrings = [];
    
          let i = 0;
          while (i < input.length) {
            let end = i + max;
            if (end >= input.length) {
              end = input.length;
            } else {
              let lastPunctuation = input.lastIndexOf('.', end);
              if (lastPunctuation !== -1) {
                end = lastPunctuation + 1; // Include the punctuation itself in the substring
              }
              // You can add more punctuation characters to consider here (e.g., !, ?)
            }
    
            let substring = input.substring(i, end);
            substrings.push(startString + substring + endString);
            i = end;
          }
    
          document.getElementById("output").value = substrings.join("\n\n\n");
        } catch (error) {
          // Handle any potential errors here
          alert("An error occurred: " + error.message);
        }
      }
    </script>
    
    <script src="https://gist.github.com/ischmidls/b283bb94b5bf99879418ccc8494818d4.js"></script>

  </body>
</html>
